From 765bc7261289a0c364e875534baadd8f140d8f32 Mon Sep 17 00:00:00 2001
From: Thomas Perrot <thomas.perrot@bootlin.com>
Date: Thu, 6 May 2021 08:59:34 +0200
Subject: [PATCH 1/2] imx7d_televic_defconfig: few changes to reduce the gpt4
 latencies

Signed-off-by: Thomas Perrot <thomas.perrot@bootlin.com>
---
 arch/arm/configs/imx7d_televic_defconfig | 17 ++++++++++++-----
 1 file changed, 12 insertions(+), 5 deletions(-)

diff --git a/arch/arm/configs/imx7d_televic_defconfig b/arch/arm/configs/imx7d_televic_defconfig
index 77753d6fadda..1c84b56ec9d4 100644
--- a/arch/arm/configs/imx7d_televic_defconfig
+++ b/arch/arm/configs/imx7d_televic_defconfig
@@ -28,17 +28,20 @@ CONFIG_SMP=y
 CONFIG_VMSPLIT_2G=y
 CONFIG_ARM_PSCI=y
 CONFIG_HZ_1000=y
-# CONFIG_ATAGS is not set
-CONFIG_CMDLINE="noinitrd console=ttymxc0,115200"
+CONFIG_ATAGS=y
+# CONFIG_DEPRECATED_PARAM_STRUCT is not set
+# CONFIG_CMDLINE="noinitrd console=ttymxc0,115200"
+CONFIG_CMDLINE="irqaffinity=0 isolcpus=1 nohz_full=1"
+# CONFIG_CMDLINE_FROM_BOOTLOADER is not set
+CONFIG_CMDLINE_EXTEND=y
+# CONFIG_CMDLINE_FORCE is not set
 CONFIG_CPU_FREQ=y
 CONFIG_CPU_FREQ_GOV_USERSPACE=y
 CONFIG_CPUFREQ_DT=y
 CONFIG_VFP=y
 CONFIG_NEON=y
 # CONFIG_BLK_DEV_BSG is not set
-# CONFIG_MQ_IOSCHED_DEADLINE is not set
 # CONFIG_MQ_IOSCHED_KYBER is not set
-CONFIG_IOSCHED_BFQ=y
 CONFIG_BINFMT_MISC=y
 CONFIG_CMA=y
 CONFIG_NET=y
@@ -176,4 +179,8 @@ CONFIG_DMA_CMA=y
 CONFIG_CMA_SIZE_MBYTES=0
 CONFIG_PRINTK_TIME=y
 CONFIG_DEBUG_FS=y
-# CONFIG_FTRACE is not set
+# CONFIG_FTRACE it not set
+CONFIG_NR_CPUS=2
+CONFIG_SCHED_MC=y
+# CONFIG_CPU_FREQ_GOV_USERSPACE is not set
+CONFIG_NO_HZ_FULL=y
-- 
2.30.2

